{% load staticfiles %} {% load i18n %} {% block loading_mask %} {% endblock loading_mask %} {% block body %}

    <!-- LOGIN FORM -->

    <div class="change-password-form panel panel-default">
    <div class="panel-heading">{% trans "Change your password" %}</div>
            <div class="panel-body">
                <form action="?next={{ next }}" method='POST' {% if auth_failed %} autocomplete="off" {% endif %}>
                    {% csrf_token %}
                    <div class="form-group">

                        <div>
                            <input type="password" class="form-control input-lg" placeholder="Old Password" data-bind="textInput:credentials.old_password" name='old_password' autofocus>
                            <div class="error-message" data-bind="text:invalidPassword"></div>
                        </div>

                        <div>
                            <input type="password" class="form-control input-lg mar-top" placeholder="New Password" data-bind="textInput:credentials.new_password" name='new_password1'>
                            <div class="error-message-container" data-bind="foreach: validationErrors">
                                <div data-bind="text: $data" class="error-message"></div>
                            </div>
                        </div>

                        <div>
                            <input type="password" class="form-control input-lg mar-top" placeholder="Confirm New Password" data-bind="textInput:credentials.new_password2" name='new_password2'>
                            <div data-bind="text:mismatchedPasswords" class="error-message"></div>
                        </div>
                        <div class="mar-top mar-btm pull-right change-password-buttons">
                            <button class="btn btn-danger" data-bind="click: toggleChangePasswordForm">{% trans "Cancel" %}</a>
                            <button class="btn btn-primary" data-bind="click: changePassword">{% trans "Change Password" %}</button>
                        </div>
                        <div class="password-rules mar-top">
                                {% trans 'Your password must:' %}
                                <ul class="list-unstyled">
                                    {% for message in validation_help %}
                                    <li class="password-rule"><i class="ion-checkmark-circled"></i><span>{{ message }}</span></li>
                                    {% endfor %}
                                </ul>
                            </div>



                </form>
            </div>
        </div>
            </div>
{% endblock body %}
